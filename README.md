# SEDebugger
Inspired by https://github.com/leftler/SE-ModDebugger, but rewritten for the new VRage.Scripting system. 

This plugin allows mods to use the **System.Diagnostics.Debugger** class. It also changes script compile settings to DEBUG (i.e. no optimization) level, which makes it easier to step through with a debugger. With recent Keen changes (emitting pdb and source files), this allows fully featured live debugging - call stack/local variables/etc.!

### Installation

You will need to launch SE with this plugin, and use Modding build. Namely:
1. Download SDK (Steam->Tools->SEModSDK), and open the `SpaceEngineersModSDK` folder in `steamapps`
2. Copy `Bin64_Profile` directory to the regular `SpaceEngineers` folder
3. Make a shortcut/lauch `SpaceEngineers.exe` in `Bin64_Profile` folder with the command line parameter:

        -plugin %PluginPath%\SEDebugger.dll
  
where `%PluginPath%` is the directory you put the file. 

For example, if you had the plugin located at `C:\Mod Debugger\ModDebugger.dll`, then you would make a shortcut with target of:
        `"C:\Program Files (x86)\Steam\steamapps\common\SpaceEngineers\Bin64_Profile\SpaceEngineers.exe" -plugin "C:\ModDebugger\ModDebugger.dll"`

Once loaded, you will now be able to make calls to System.Diagnostics.Debugger from inside mods and scripts. Included is a `SEDebugger.cs` file which provides a wrapper class that you can safely call with or without the plugin loaded. When the plugin is not loaded, **all** the wrapper methods of ModDebugger do nothing (return false, or an empty string).

To start debugging, from inside your mod at some point call `SEDebugger.Launch()` - this will cause Space Engineers to launch the Just-In-Time Debugger screen. From there you can choose to launch a new instance of Visual Studio or attach to an existing one. You can then call `SEDebugger.Break()` whenever you want to pause the game and inspect things. Also, once attached, debugger should auto-break on exceptions.

**IMPORTANT NOTE**: The debugger will be using files generated by the Space Engineers compiler, breakpoints in your mod code's original files will not work! You must put breakpoints in the temporary files the compiler generated which will be located at the diagnostic output path (see plugin output in SE log for what it is).

### Version - 0.1b
Verified working in SE1.189/VS2017/.NET4.6.1

